import{_ as U}from"./axqRbsIG.js";import{u as F,_ as j,a as E}from"./riMQx8Z-.js";import{_ as M,u as O,a as R}from"./BCklqG-s.js";import{_ as q}from"./Bu8GArY0.js";import{d as z,b as G,w as x,l as k,A as H,k as c,h as a,o,f as m,g as n,j as i,e as d,F as v,r as P,i as s,t as y,O as I,m as J,U as K,p as C,V as Q,n as W}from"./Cr-UwMNL.js";import"./Dv9g6cva.js";import"./BKp5l_nf.js";import"./CYJKXbDR.js";const X={key:0},Y={key:1},Z={class:"text-c-light-blue font-medium"},h={class:"pb-4 ml-auto text-right"},tt={class:"grid grid-cols-3 gap-4"},et={class:"flex flex-wrap gap-2"},ct=z({__name:"index",async setup(st){let r,_;const{getCategories:w,goToCategoriesPage:B}=G(),b=([r,_]=x(()=>w(10)),r=await r,_(),r),l=k(1),u=k("desc"),{updatePosts:g,posts:p,isLoading:N}=F();return[r,_]=x(()=>O("posts",()=>g(l.value,u.value))),await r,_(),H([l,u],([f,t])=>{g(f,t)}),(f,t)=>{const V=U,L=j,T=E,$=R,S=q,A=I,D=M;return o(),c(D,{name:"content-with-sidebar"},{content:a(()=>[s(N)?(o(),d("div",X,"loading....")):(o(),d("div",Y,[m(V,null,{directions:a(()=>[t[2]||(t[2]=i(" 目前有 ")),n("span",Z,'"'+y(s(p).totalPosts||0)+'"',1),t[3]||(t[3]=i(" 篇文章，紀錄著我生活大小事，歡迎閱讀！ "))]),default:a(()=>[t[4]||(t[4]=i(" 文章 "))]),_:1}),n("div",h,[t[6]||(t[6]=n("p",{class:"c-text-gray inline-block"},"文章排序：",-1)),K(n("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>C(u)?u.value=e:null),class:"c-rounded-btn rounded py-1 px-2"},t[5]||(t[5]=[n("option",{value:"desc"},"新到舊",-1),n("option",{value:"asc"},"舊到新",-1)]),512),[[Q,s(u)]])]),n("div",tt,[(o(!0),d(v,null,P(s(p).list,e=>(o(),c(L,W({ref_for:!0},e,{key:e.title,class:"col-span-1"}),null,16))),128))]),s(p).totalPage?(o(),c(T,{key:0,"current-page":s(l),"onUpdate:currentPage":t[1]||(t[1]=e=>C(l)?l.value=e:null),totalPage:s(p).totalPage},null,8,["current-page","totalPage"])):J("",!0)]))]),"right-side":a(()=>[m($,null,{default:a(()=>t[7]||(t[7]=[i("分類")])),_:1}),n("div",et,[(o(!0),d(v,null,P(s(b),e=>(o(),c(S,{key:e,onClick:ot=>s(B)(e)},{default:a(()=>[i(y(e),1)]),_:2},1032,["onClick"]))),128))]),m(A,{class:"c-text-link my-4 text-sm block px-2",to:"/categories"},{default:a(()=>t[8]||(t[8]=[i("更多分類")])),_:1})]),_:1})}}});export{ct as default};
