import A from"./CVZTPc8w.js";import{_ as F}from"./CY1mNy43.js";import{_ as j}from"./CvF3Qn-6.js";import{_ as E,u as M,a as R}from"./zo6JwTMs.js";import{_ as W}from"./C1InG4Qe.js";import{d as X,T as Y,U as x,y as v,X as q,h as m,j as a,o as s,a as d,g as n,v as i,c,F as k,n as y,x as o,t as P,i as z,b as G,w as H,W as C,Y as I,C as J}from"./C_-Ao5nl.js";import{u as K}from"./MiJmFpQN.js";import"./BMwYWHDu.js";import"./CzyqECAV.js";import"./MZpCfQwu.js";import"./BaECTj1g.js";import"./dKsZlkrk.js";const O={key:0},Q={key:1},Z={class:"text-c-light-blue font-medium"},h={class:"pb-4 ml-auto text-right"},tt={class:"grid grid-cols-3 gap-4"},et={class:"flex flex-wrap gap-2"},ft=X({__name:"index",async setup(ot){let r,_;const{getCategories:w,goToCategoriesPage:B}=Y(),b=([r,_]=x(()=>w(10)),r=await r,_(),r),l=v(1),u=v("desc"),{updatePosts:g,posts:p,isLoading:N}=K();return[r,_]=x(()=>M("posts",()=>g(l.value,u.value))),await r,_(),q([l,u],([f,t])=>{g(f,t)}),(f,t)=>{const T=A,L=F,V=j,$=R,S=W,D=z,U=E;return s(),m(U,{name:"content-with-sidebar"},{content:a(()=>[o(N)?(s(),c("div",O,"loading....")):(s(),c("div",Q,[d(T,null,{directions:a(()=>[t[2]||(t[2]=i(" 目前有 ")),n("span",Z,'"'+P(o(p).totalPosts||0)+'"',1),t[3]||(t[3]=i(" 篇文章，紀錄著我生活大小事，歡迎閱讀！ "))]),default:a(()=>[t[4]||(t[4]=i(" 文章 "))]),_:1}),n("div",h,[t[6]||(t[6]=n("p",{class:"c-text-gray inline-block"},"文章排序：",-1)),H(n("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>C(u)?u.value=e:null),class:"c-rounded-btn rounded py-1 px-2"},t[5]||(t[5]=[n("option",{value:"desc"},"新到舊",-1),n("option",{value:"asc"},"舊到新",-1)]),512),[[I,o(u)]])]),n("div",tt,[(s(!0),c(k,null,y(o(p).list,e=>(s(),m(L,J({ref_for:!0},e,{key:e.title,class:"col-span-1"}),null,16))),128))]),o(p).totalPage?(s(),m(V,{key:0,"current-page":o(l),"onUpdate:currentPage":t[1]||(t[1]=e=>C(l)?l.value=e:null),totalPage:o(p).totalPage},null,8,["current-page","totalPage"])):G("",!0)]))]),"right-side":a(()=>[d($,null,{default:a(()=>t[7]||(t[7]=[i("分類")])),_:1}),n("div",et,[(s(!0),c(k,null,y(o(b),e=>(s(),m(S,{key:e,onClick:st=>o(B)(e)},{default:a(()=>[i(P(e),1)]),_:2},1032,["onClick"]))),128))]),d(D,{class:"c-text-link my-4 text-sm block px-2",to:"/categories"},{default:a(()=>t[8]||(t[8]=[i("更多分類")])),_:1})]),_:1})}}});export{ft as default};
